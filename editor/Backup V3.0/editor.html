<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Tyniweb Editor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="editor.css" />
</head>
<body>
  
  
  <!-- TOP BAR -->
	<header id="tw-topbar">
	  <div class="tw-topbar-left">
		<span class="tw-logo">Tyniweb</span>
		<span class="tw-topbar-divider">|</span>

		<!-- Role buttons (only one visible at a time) -->
		<button class="tw-role-btn" data-role="architect" onclick="chooseRole('architect')">Architect</button>
		<button class="tw-role-btn" data-role="member" onclick="chooseRole('member')">Member</button>
		<button class="tw-role-btn" data-role="guest" onclick="chooseRole('guest')">Guest</button>
	  </div>

	  <div class="tw-topbar-right">
		<!-- Training toggle -->
		<button id="tw-training-toggle" class="tw-menu-item" onclick="toggleTraining()">Training: OFF</button>

		<!-- Training Portal -->
		<button id="tw-training-portal-btn" class="tw-menu-item" style="display:none;">Training Portal</button>

		<!-- Publish / Export -->
		<button id="tw-publish-site" class="tw-primary">Publish</button>
		<button id="tw-export-site" class="tw-secondary">Export</button>

		<!-- Sign in/out -->
		<button id="tw-signin-btn" class="tw-menu-item" onclick="openRoleOverlay()">Sign in</button>
		<button id="tw-signout-btn" class="tw-menu-item" style="display:none;" onclick="signOut()">Sign out</button>
	  </div>
	</header>

  <!-- MAIN LAYOUT -->
  <div id="tw-layout">
    <!-- LEFT SIDEBAR -->
    <aside id="tw-sidebar-left">
      <section class="tw-panel">
        <h3>Pages</h3>
        <div id="tw-page-list" class="tw-page-list"></div>
        <button id="tw-add-page" class="tw-secondary small">+ Add Page</button>
      </section>

      <section class="tw-panel">
        <h3>Components</h3>
        <div class="tw-component-list">
          <button class="tw-component-item" data-add-block="Hero">Hero</button>
          <button class="tw-component-item" data-add-block="Section">Section</button>
          <button class="tw-component-item" data-add-block="Footer">Footer</button>
        </div>
      </section>

      <section class="tw-panel">
        <h3>AI Tools</h3>
        <button id="tw-ai-generate-content" class="tw-secondary small">AI: Content</button>
        <button id="tw-ai-layout" class="tw-secondary small">AI: Layout</button>
      </section>
    </aside>

    <!-- CANVAS -->
    <main id="tw-canvas">
      <div id="tw-canvas-body"></div>
    </main>
	
	<div id="tw-guest-banner" style="display:none;">
	  You’re exploring in Guest mode.  
	  <button onclick="openRoleOverlay()">Sign in</button>
	</div>

    <!-- RIGHT SIDEBAR -->
    <aside id="tw-sidebar-right">
      <section id="tw-inspector" class="tw-panel">
        <h3>Inspector</h3>
        <label>
          <span>Title</span>
          <input type="text" name="title" />
        </label>
        <label>
          <span>Subtitle</span>
          <textarea name="subtitle" rows="3"></textarea>
        </label>
        <label>
          <span>Button Label</span>
          <input type="text" name="cta" />
        </label>
      </section>

      <section id="tw-global-styles" class="tw-panel">
        <h3>Global Styles</h3>
        <label>
          <span>Font</span>
          <select name="global-font">
            <option value="system-ui">System</option>
            <option value="Inter, system-ui">Inter</option>
            <option value="Georgia, serif">Serif</option>
          </select>
        </label>
        <label>
          <span>Base Color</span>
          <input type="color" name="global-base-color" />
        </label>
        <label>
          <span>Accent Color</span>
          <input type="color" name="global-accent-color" />
        </label>
        <label>
          <span>Background</span>
          <input type="color" name="global-bg-color" />
        </label>
        <label>
          <span>Spacing</span>
          <input type="range" name="global-spacing" min="8" max="40" />
        </label>
      </section>

      <section id="tw-identity-panel" class="tw-panel">
        <h3>Identity Core</h3>
        <label>
          <span>Archetype</span>
          <select name="identity-archetype">
            <option value="guide">Guide</option>
            <option value="explorer">Explorer</option>
            <option value="visionary">Visionary</option>
            <option value="builder">Builder</option>
          </select>
        </label>
        <label>
          <span>Voice Tone</span>
          <input type="text" name="identity-voice" placeholder="warm and encouraging" />
        </label>
        <label>
          <span>Promise</span>
          <textarea name="identity-promise" rows="2" placeholder="Help you build worlds that feel alive."></textarea>
        </label>
        <button id="tw-new-portal-template" class="tw-secondary small">New Portal from Template</button>
      </section>
    </aside>
  </div>

  <!-- TRAINING PORTAL -->
  <div id="tw-training-portal" class="tw-modal" style="display:none;">
    <div class="tw-modal-content tw-training-modal">
      <div class="tw-modal-header">
        <h2>Training Portal</h2>
        <button id="tw-training-close" class="tw-icon-btn">✕</button>
      </div>

      <div class="tw-training-columns">
        <section>
          <h3>Architect Tracks</h3>
          <div id="tw-training-architect-list"></div>
        </section>
        <section>
          <h3>Member Tracks</h3>
          <div id="tw-training-member-list"></div>
        </section>
      </div>
    </div>
  </div>

  <!-- TRAINING CHECKLIST -->
  <aside id="tw-training-checklist" class="tw-training-checklist" style="display:none;">
    <h3>Training Checklist</h3>
    <ul id="tw-training-checklist-list"></ul>
    <button id="tw-training-next-step" class="tw-secondary small">Next Step</button>
  </aside>

  <!-- TRAINING HUD -->
  <div id="tw-training-hud" style="display:none;">
    <div id="tw-training-hud-track"></div>
    <div id="tw-training-hud-step"></div>
    <div id="tw-training-hud-title"></div>
    <div id="tw-training-hud-progress">
      <div id="tw-training-hud-progress-bar"></div>
    </div>
  </div>

  <!-- TRAINING ARROW -->
  <div id="tw-training-arrow" style="display:none;">
    <div class="tw-training-arrow-icon">➤</div>
  </div>

  <!-- DASHBOARD STUBS -->
  <div id="tw-open-architect-dashboard" style="display:none;"></div>
  <div id="tw-open-member-dashboard" style="display:none;"></div>

	<!-- ROLE CHOICE OVERLAY (near end of body) -->
	<div id="tw-role-overlay">
	  <div class="tw-role-overlay-inner">
		<h2>Choose your role</h2>
		<p>Select how you want to enter Tyniweb.</p>
		<div class="tw-role-overlay-buttons">
		  <button onclick="chooseRole('architect')">Architect</button>
		  <button onclick="chooseRole('member')">Member</button>
		  <button onclick="chooseRole('guest')">Continue as Guest</button>
		</div>
	  </div>
	</div>

  <!-- SCRIPT -->
  <script src="editor.js" defer></script>
  
</body>
</html>
